{"ast":null,"code":"var _jsxFileName = \"/home/dell/JAGOTA/march-27/Backup-Mar23 safety march27/backup04-04 filter new design try/src/components/CartComponents/OrderList/AllbranchTable/AddMinusLocal/AddMinusLocal.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./AddMinusLocal.scss\";\nimport { toast } from \"react-toastify\";\nimport request from \"../../../../../request\";\nimport moment from \"moment\";\nimport { useStateValue } from \"../../../../../store/state\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AddMinusLocal(_ref) {\n  _s();\n  let {\n    sku,\n    quantity,\n    item_id,\n    date,\n    product_id,\n    branch_id,\n    name,\n    totalquantity,\n    setqtyspinner,\n    qtyspinner\n  } = _ref;\n  const [{}, dispatch] = useStateValue();\n  const cartUpdate = async value => {\n    if (value !== \"add\" && parseInt(totalquantity) - 1 === 0) {\n      return toast.error(\"Cannot remove the branch, atleast 1 branch must be selected\");\n    }\n    try {\n      setqtyspinner(true);\n      const cartdata = await axios({\n        method: \"post\",\n        url: request.cartupdate,\n        data: {\n          data: {\n            sku: sku,\n            qty: value === \"add\" ? parseInt(totalquantity) + 1 : parseInt(totalquantity) - 1,\n            quote_id: localStorage.getItem(\"cartid\"),\n            item_id: item_id,\n            customer_id: localStorage.getItem(\"userid\")\n          },\n          splitorder: {\n            company_id: localStorage.getItem(\"companyid\"),\n            customer_id: localStorage.getItem(\"userid\"),\n            branch_id: branch_id,\n            product_id: product_id,\n            qty: value === \"add\" ? parseInt(quantity) + 1 : parseInt(quantity) - 1,\n            item_id: item_id,\n            name: name,\n            sku: sku,\n            delivery_date: date\n          }\n        },\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      dispatch({\n        type: \"CART_STATUS\",\n        status: cartdata\n      });\n      setqtyspinner(false);\n    } catch (e) {\n      console.log(e);\n      // toast.error(e.response?.data?.message);\n      setqtyspinner(false);\n    }\n  };\n  const inputChange = async event => {\n    if (event.target.value === 0 || event.target.value === \"0\" || event.target.value === NaN || event.target.value === \"\" || event.target.value === undefined) return;\n    try {\n      setqtyspinner(true);\n      const cartdata = await axios({\n        method: \"post\",\n        url: request.cartupdate,\n        data: {\n          data: {\n            sku: sku,\n            qty: parseInt(event.target.value) + parseInt(totalquantity) - parseInt(quantity),\n            quote_id: localStorage.getItem(\"cartid\"),\n            item_id: item_id,\n            customer_id: localStorage.getItem(\"userid\")\n          },\n          splitorder: {\n            company_id: localStorage.getItem(\"companyid\"),\n            customer_id: localStorage.getItem(\"userid\"),\n            branch_id: branch_id,\n            product_id: product_id,\n            qty: event.target.value,\n            item_id: item_id,\n            name: name,\n            sku: sku,\n            delivery_date: date\n          }\n        },\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      dispatch({\n        type: \"CART_STATUS\",\n        status: cartdata\n      });\n      setqtyspinner(false);\n    } catch (e) {\n      console.log(e);\n      // toast.error(e.response?.data?.message);\n      setqtyspinner(false);\n    }\n    // cartUpdate()\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"addminuslocal\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"addminuslocal__quantity\",\n      children: [!qtyspinner ? /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"addminuslocal__subtract btn\",\n        onClick: () => cartUpdate(\"minus\"),\n        \"aria-label\": \"minus\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-minus\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"addminuslocal__subtract btn\",\n        \"aria-label\": \"minus\",\n        disabled: true,\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-minus\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"quantity_increase\",\n        onChange: e => inputChange(e),\n        type: \"text\",\n        value: parseInt(quantity)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), !qtyspinner ? /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"addminuslocal__add btn\",\n        onClick: () => cartUpdate(\"add\"),\n        \"aria-label\": \"add\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-plus\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"addminuslocal__add btn\",\n        \"aria-label\": \"add\",\n        disabled: true,\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-plus\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 5\n  }, this);\n}\n_s(AddMinusLocal, \"8dfWbrzcAzmeu3AhlK81LFsJ0bc=\", false, function () {\n  return [useStateValue];\n});\n_c = AddMinusLocal;\nexport default AddMinusLocal;\nvar _c;\n$RefreshReg$(_c, \"AddMinusLocal\");","map":{"version":3,"names":["axios","React","useState","useEffect","toast","request","moment","useStateValue","jsxDEV","_jsxDEV","AddMinusLocal","_ref","_s","sku","quantity","item_id","date","product_id","branch_id","name","totalquantity","setqtyspinner","qtyspinner","dispatch","cartUpdate","value","parseInt","error","cartdata","method","url","cartupdate","data","qty","quote_id","localStorage","getItem","customer_id","splitorder","company_id","delivery_date","headers","Authorization","type","status","e","console","log","inputChange","event","target","NaN","undefined","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","disabled","onChange","_c","$RefreshReg$"],"sources":["/home/dell/JAGOTA/march-27/Backup-Mar23 safety march27/backup04-04 filter new design try/src/components/CartComponents/OrderList/AllbranchTable/AddMinusLocal/AddMinusLocal.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./AddMinusLocal.scss\";\nimport { toast } from \"react-toastify\";\nimport request from \"../../../../../request\";\nimport moment from \"moment\";\nimport { useStateValue } from \"../../../../../store/state\";\n\nfunction AddMinusLocal({\n  sku,\n  quantity,\n  item_id,\n  date,\n  product_id,\n  branch_id,\n  name,\n  totalquantity,\n  setqtyspinner,\n  qtyspinner\n}) {\n  const [{}, dispatch] = useStateValue();\n\n  const cartUpdate = async (value) => {\n    if (value !== \"add\" && parseInt(totalquantity) - 1 === 0) {\n      return toast.error(\n        \"Cannot remove the branch, atleast 1 branch must be selected\"\n      );\n    }\n    try {\n      setqtyspinner(true);\n      const cartdata = await axios({\n        method: \"post\",\n        url: request.cartupdate,\n        data: {\n          data: {\n            sku: sku,\n            qty:\n              value === \"add\"\n                ? parseInt(totalquantity) + 1\n                : parseInt(totalquantity) - 1,\n            quote_id: localStorage.getItem(\"cartid\"),\n            item_id: item_id,\n            customer_id: localStorage.getItem(\"userid\"),\n          },\n          splitorder: {\n            company_id: localStorage.getItem(\"companyid\"),\n            customer_id: localStorage.getItem(\"userid\"),\n            branch_id: branch_id,\n            product_id: product_id,\n            qty:\n              value === \"add\" ? parseInt(quantity) + 1 : parseInt(quantity) - 1,\n            item_id: item_id,\n            name: name,\n            sku: sku,\n            delivery_date: date,\n          },\n        },\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      });\n      dispatch({\n        type: \"CART_STATUS\",\n        status: cartdata,\n      });\n      setqtyspinner(false);\n    } catch (e) {\n      console.log(e)\n      // toast.error(e.response?.data?.message);\n      setqtyspinner(false);\n    }\n  };\n\n  const inputChange = async (event) => {\n    if (\n      event.target.value === 0 ||\n      event.target.value === \"0\" ||\n      event.target.value === NaN ||\n      event.target.value === \"\" ||\n      event.target.value === undefined\n    )\n      return;\n    try {\n      setqtyspinner(true);\n      const cartdata = await axios({\n        method: \"post\",\n        url: request.cartupdate,\n        data: {\n          data: {\n            sku: sku,\n            qty:\n              parseInt(event.target.value) +\n              parseInt(totalquantity) -\n              parseInt(quantity),\n            quote_id: localStorage.getItem(\"cartid\"),\n            item_id: item_id,\n            customer_id: localStorage.getItem(\"userid\"),\n          },\n          splitorder: {\n            company_id: localStorage.getItem(\"companyid\"),\n            customer_id: localStorage.getItem(\"userid\"),\n            branch_id: branch_id,\n            product_id: product_id,\n            qty: event.target.value,\n            item_id: item_id,\n            name: name,\n            sku: sku,\n            delivery_date: date,\n          },\n        },\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      });\n      dispatch({\n        type: \"CART_STATUS\",\n        status: cartdata,\n      });\n      setqtyspinner(false);\n    } catch (e) {\n      console.log(e)\n      // toast.error(e.response?.data?.message);\n      setqtyspinner(false);\n    }\n    // cartUpdate()\n  };\n  return (\n    <div className=\"addminuslocal\">\n      <div className=\"addminuslocal__quantity\">\n        {!qtyspinner ? (\n          <button\n            className=\"addminuslocal__subtract btn\"\n            onClick={() => cartUpdate(\"minus\")}\n            aria-label=\"minus\"\n          >\n            <i className=\"fas fa-minus\" />\n          </button>\n        ) : (\n          <button\n            className=\"addminuslocal__subtract btn\"\n            aria-label=\"minus\"\n            disabled\n          >\n            <i className=\"fas fa-minus\" />\n          </button>\n        )}\n        <input\n          name=\"quantity_increase\"\n          onChange={(e) => inputChange(e)}\n          type=\"text\"\n          value={parseInt(quantity)}\n        />\n        {!qtyspinner ? (\n          <button\n            className=\"addminuslocal__add btn\"\n            onClick={() => cartUpdate(\"add\")}\n            aria-label=\"add\"\n          >\n            <i className=\"fas fa-plus\" />\n          </button>\n        ) : (\n          <button\n            className=\"addminuslocal__add btn\"\n            aria-label=\"add\"\n            disabled\n          >\n            <i className=\"fas fa-plus\" />\n          </button>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default AddMinusLocal;\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAO,sBAAsB;AAC7B,SAASC,KAAK,QAAQ,gBAAgB;AACtC,OAAOC,OAAO,MAAM,wBAAwB;AAC5C,OAAOC,MAAM,MAAM,QAAQ;AAC3B,SAASC,aAAa,QAAQ,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3D,SAASC,aAAaA,CAAAC,IAAA,EAWnB;EAAAC,EAAA;EAAA,IAXoB;IACrBC,GAAG;IACHC,QAAQ;IACRC,OAAO;IACPC,IAAI;IACJC,UAAU;IACVC,SAAS;IACTC,IAAI;IACJC,aAAa;IACbC,aAAa;IACbC;EACF,CAAC,GAAAX,IAAA;EACC,MAAM,CAAC,CAAC,CAAC,EAAEY,QAAQ,CAAC,GAAGhB,aAAa,EAAE;EAEtC,MAAMiB,UAAU,GAAG,MAAOC,KAAK,IAAK;IAClC,IAAIA,KAAK,KAAK,KAAK,IAAIC,QAAQ,CAACN,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;MACxD,OAAOhB,KAAK,CAACuB,KAAK,CAChB,6DAA6D,CAC9D;IACH;IACA,IAAI;MACFN,aAAa,CAAC,IAAI,CAAC;MACnB,MAAMO,QAAQ,GAAG,MAAM5B,KAAK,CAAC;QAC3B6B,MAAM,EAAE,MAAM;QACdC,GAAG,EAAEzB,OAAO,CAAC0B,UAAU;QACvBC,IAAI,EAAE;UACJA,IAAI,EAAE;YACJnB,GAAG,EAAEA,GAAG;YACRoB,GAAG,EACDR,KAAK,KAAK,KAAK,GACXC,QAAQ,CAACN,aAAa,CAAC,GAAG,CAAC,GAC3BM,QAAQ,CAACN,aAAa,CAAC,GAAG,CAAC;YACjCc,QAAQ,EAAEC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;YACxCrB,OAAO,EAAEA,OAAO;YAChBsB,WAAW,EAAEF,YAAY,CAACC,OAAO,CAAC,QAAQ;UAC5C,CAAC;UACDE,UAAU,EAAE;YACVC,UAAU,EAAEJ,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;YAC7CC,WAAW,EAAEF,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;YAC3ClB,SAAS,EAAEA,SAAS;YACpBD,UAAU,EAAEA,UAAU;YACtBgB,GAAG,EACDR,KAAK,KAAK,KAAK,GAAGC,QAAQ,CAACZ,QAAQ,CAAC,GAAG,CAAC,GAAGY,QAAQ,CAACZ,QAAQ,CAAC,GAAG,CAAC;YACnEC,OAAO,EAAEA,OAAO;YAChBI,IAAI,EAAEA,IAAI;YACVN,GAAG,EAAEA,GAAG;YACR2B,aAAa,EAAExB;UACjB;QACF,CAAC;QACDyB,OAAO,EAAE;UACPC,aAAa,EAAG,UAASP,YAAY,CAACC,OAAO,CAAC,OAAO,CAAE;QACzD;MACF,CAAC,CAAC;MACFb,QAAQ,CAAC;QACPoB,IAAI,EAAE,aAAa;QACnBC,MAAM,EAAEhB;MACV,CAAC,CAAC;MACFP,aAAa,CAAC,KAAK,CAAC;IACtB,CAAC,CAAC,OAAOwB,CAAC,EAAE;MACVC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;MACd;MACAxB,aAAa,CAAC,KAAK,CAAC;IACtB;EACF,CAAC;EAED,MAAM2B,WAAW,GAAG,MAAOC,KAAK,IAAK;IACnC,IACEA,KAAK,CAACC,MAAM,CAACzB,KAAK,KAAK,CAAC,IACxBwB,KAAK,CAACC,MAAM,CAACzB,KAAK,KAAK,GAAG,IAC1BwB,KAAK,CAACC,MAAM,CAACzB,KAAK,KAAK0B,GAAG,IAC1BF,KAAK,CAACC,MAAM,CAACzB,KAAK,KAAK,EAAE,IACzBwB,KAAK,CAACC,MAAM,CAACzB,KAAK,KAAK2B,SAAS,EAEhC;IACF,IAAI;MACF/B,aAAa,CAAC,IAAI,CAAC;MACnB,MAAMO,QAAQ,GAAG,MAAM5B,KAAK,CAAC;QAC3B6B,MAAM,EAAE,MAAM;QACdC,GAAG,EAAEzB,OAAO,CAAC0B,UAAU;QACvBC,IAAI,EAAE;UACJA,IAAI,EAAE;YACJnB,GAAG,EAAEA,GAAG;YACRoB,GAAG,EACDP,QAAQ,CAACuB,KAAK,CAACC,MAAM,CAACzB,KAAK,CAAC,GAC5BC,QAAQ,CAACN,aAAa,CAAC,GACvBM,QAAQ,CAACZ,QAAQ,CAAC;YACpBoB,QAAQ,EAAEC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;YACxCrB,OAAO,EAAEA,OAAO;YAChBsB,WAAW,EAAEF,YAAY,CAACC,OAAO,CAAC,QAAQ;UAC5C,CAAC;UACDE,UAAU,EAAE;YACVC,UAAU,EAAEJ,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;YAC7CC,WAAW,EAAEF,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;YAC3ClB,SAAS,EAAEA,SAAS;YACpBD,UAAU,EAAEA,UAAU;YACtBgB,GAAG,EAAEgB,KAAK,CAACC,MAAM,CAACzB,KAAK;YACvBV,OAAO,EAAEA,OAAO;YAChBI,IAAI,EAAEA,IAAI;YACVN,GAAG,EAAEA,GAAG;YACR2B,aAAa,EAAExB;UACjB;QACF,CAAC;QACDyB,OAAO,EAAE;UACPC,aAAa,EAAG,UAASP,YAAY,CAACC,OAAO,CAAC,OAAO,CAAE;QACzD;MACF,CAAC,CAAC;MACFb,QAAQ,CAAC;QACPoB,IAAI,EAAE,aAAa;QACnBC,MAAM,EAAEhB;MACV,CAAC,CAAC;MACFP,aAAa,CAAC,KAAK,CAAC;IACtB,CAAC,CAAC,OAAOwB,CAAC,EAAE;MACVC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;MACd;MACAxB,aAAa,CAAC,KAAK,CAAC;IACtB;IACA;EACF,CAAC;;EACD,oBACEZ,OAAA;IAAK4C,SAAS,EAAC,eAAe;IAAAC,QAAA,eAC5B7C,OAAA;MAAK4C,SAAS,EAAC,yBAAyB;MAAAC,QAAA,GACrC,CAAChC,UAAU,gBACVb,OAAA;QACE4C,SAAS,EAAC,6BAA6B;QACvCE,OAAO,EAAEA,CAAA,KAAM/B,UAAU,CAAC,OAAO,CAAE;QACnC,cAAW,OAAO;QAAA8B,QAAA,eAElB7C,OAAA;UAAG4C,SAAS,EAAC;QAAc;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAG;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACvB,gBAETlD,OAAA;QACE4C,SAAS,EAAC,6BAA6B;QACvC,cAAW,OAAO;QAClBO,QAAQ;QAAAN,QAAA,eAER7C,OAAA;UAAG4C,SAAS,EAAC;QAAc;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAG;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAEjC,eACDlD,OAAA;QACEU,IAAI,EAAC,mBAAmB;QACxB0C,QAAQ,EAAGhB,CAAC,IAAKG,WAAW,CAACH,CAAC,CAAE;QAChCF,IAAI,EAAC,MAAM;QACXlB,KAAK,EAAEC,QAAQ,CAACZ,QAAQ;MAAE;QAAA0C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAC1B,EACD,CAACrC,UAAU,gBACVb,OAAA;QACE4C,SAAS,EAAC,wBAAwB;QAClCE,OAAO,EAAEA,CAAA,KAAM/B,UAAU,CAAC,KAAK,CAAE;QACjC,cAAW,KAAK;QAAA8B,QAAA,eAEhB7C,OAAA;UAAG4C,SAAS,EAAC;QAAa;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAG;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACtB,gBAETlD,OAAA;QACE4C,SAAS,EAAC,wBAAwB;QAClC,cAAW,KAAK;QAChBO,QAAQ;QAAAN,QAAA,eAER7C,OAAA;UAAG4C,SAAS,EAAC;QAAa;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAG;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAEhC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EACG;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACF;AAEV;AAAC/C,EAAA,CApKQF,aAAa;EAAA,QAYGH,aAAa;AAAA;AAAAuD,EAAA,GAZ7BpD,aAAa;AAsKtB,eAAeA,aAAa;AAAC,IAAAoD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}