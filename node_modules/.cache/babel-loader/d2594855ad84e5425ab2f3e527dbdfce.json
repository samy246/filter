{"ast":null,"code":"var _jsxFileName = \"/home/dell/JAGOTA/march-27/Backup-Mar23 safety march27/backup04-04 filter new design try/src/components/CatalogComponents/Rating/Rating.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport \"./Rating.scss\";\nimport moment from \"moment\";\nimport { useStateValue } from \"../../../store/state\";\nimport { toast } from \"react-toastify\";\nimport request from \"../../../request\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Rating(_ref) {\n  _s();\n  let {\n    ratingdata,\n    sMore\n  } = _ref;\n  const [{}, dispatch] = useStateValue();\n  const thumbshandler = async (value, review) => {\n    try {\n      await axios({\n        method: \"post\",\n        url: request.thumbsupdown,\n        data: {\n          helpfuldata: {\n            choice: value,\n            reviewid: review,\n            customer_id: JSON.parse(localStorage.getItem(\"userid\"))\n          }\n        },\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n    } catch (e) {\n      console.log(e);\n      // toast.error(e.response?.data?.message);\n    }\n\n    dispatch({\n      type: \"THUMBS__TRIGGER\"\n    });\n  };\n  const [rData, setRData] = useState([]);\n  useEffect(() => {\n    setRData([]);\n    if (sMore) {\n      setRData(ratingdata);\n    }\n    if (!sMore) {\n      ratingdata === null || ratingdata === void 0 ? void 0 : ratingdata.filter((rd, i) => {\n        if (i >= 3) {\n          return;\n        } else {\n          setRData(prevState => [...prevState, rd]);\n        }\n      });\n    }\n  }, [ratingdata, sMore]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: rData === null || rData === void 0 ? void 0 : rData.map((r, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pl-20\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"CatalogCardDetails__reviews \",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex align\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \" review_star h3  d-flex rounded-pill\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"m-0\",\n              children: r.value\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-star \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: r.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"float-end p-4 thumbs\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"thumbs-up\",\n            onClick: () => thumbshandler(1, parseFloat(r.review_id)),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"far fa-thumbs-up fa-2x\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 17\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: r.count_helpful\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"thumbs-down\",\n            onClick: () => thumbshandler(0, parseFloat(r.review_id)),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"far fa-thumbs-down fa-2x\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: r.count_unhelpful\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: r.detail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: r.nickname\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"certify\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"p-4\",\n          children: \"Certificated Buyer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: moment(moment(r.review_created_at).format(\"YYYYMMDD\"), \"YYYYMMDD\").fromNow()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this))\n  }, void 0, false);\n}\n_s(Rating, \"H7aa1xyRg5oNt9xLvABuNswWNKc=\", false, function () {\n  return [useStateValue];\n});\n_c = Rating;\nexport default Rating;\nvar _c;\n$RefreshReg$(_c, \"Rating\");","map":{"version":3,"names":["axios","React","useEffect","useState","moment","useStateValue","toast","request","jsxDEV","_jsxDEV","Fragment","_Fragment","Rating","_ref","_s","ratingdata","sMore","dispatch","thumbshandler","value","review","method","url","thumbsupdown","data","helpfuldata","choice","reviewid","customer_id","JSON","parse","localStorage","getItem","headers","Authorization","e","console","log","type","rData","setRData","filter","rd","i","prevState","children","map","r","className","fileName","_jsxFileName","lineNumber","columnNumber","title","onClick","parseFloat","review_id","count_helpful","count_unhelpful","detail","nickname","review_created_at","format","fromNow","_c","$RefreshReg$"],"sources":["/home/dell/JAGOTA/march-27/Backup-Mar23 safety march27/backup04-04 filter new design try/src/components/CatalogComponents/Rating/Rating.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport \"./Rating.scss\";\nimport moment from \"moment\";\nimport { useStateValue } from \"../../../store/state\";\nimport { toast } from \"react-toastify\";\nimport request from \"../../../request\";\n\nfunction Rating({ ratingdata, sMore }) {\n  const [{}, dispatch] = useStateValue();\n  const thumbshandler = async (value, review) => {\n    try {\n      await axios({\n        method: \"post\",\n        url: request.thumbsupdown,\n        data: {\n          helpfuldata: {\n            choice: value,\n            reviewid: review,\n            customer_id: JSON.parse(localStorage.getItem(\"userid\")),\n          },\n        },\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      });\n    } catch (e) {\n      console.log(e)\n      // toast.error(e.response?.data?.message);\n    }\n    dispatch({\n      type: \"THUMBS__TRIGGER\",\n    });\n  };\n\n  const [rData, setRData] = useState([]);\n\n  useEffect(() => {\n    setRData([]);\n    if (sMore) {\n      setRData(ratingdata);\n    }\n    if (!sMore) {\n      ratingdata?.filter((rd, i) => {\n        if (i >= 3) {\n          return;\n        } else {\n          setRData((prevState) => [...prevState, rd]);\n        }\n      });\n    }\n  }, [ratingdata, sMore]);\n\n\n  return (\n    <>\n      {rData?.map((r, i) => (\n        <div className=\"pl-20\">\n          <div className=\"CatalogCardDetails__reviews \">\n            <div className=\"d-flex align\">\n              <span className=\" review_star h3  d-flex rounded-pill\">\n                <h4 className=\"m-0\">{r.value}</h4>\n                <i className=\"fas fa-star \" />\n              </span>\n              <h4>{r.title}</h4>\n            </div>\n            <div className=\"float-end p-4 thumbs\">\n              <span\n                className=\"thumbs-up\"\n                onClick={() => thumbshandler(1, parseFloat(r.review_id))}\n              >\n                <i className=\"far fa-thumbs-up fa-2x\" />{\" \"}\n                <span>{r.count_helpful}</span>\n              </span>\n              <span\n                className=\"thumbs-down\"\n                onClick={() => thumbshandler(0, parseFloat(r.review_id))}\n              >\n                <i className=\"far fa-thumbs-down fa-2x\" />{\" \"}\n                <span>{r.count_unhelpful}</span>\n              </span>\n            </div>\n          </div>\n          <p>{r.detail}</p>\n          <p>{r.nickname}</p>\n          <span className=\"certify\">\n            <span className=\"p-4\">Certificated Buyer</span>&nbsp;&nbsp;\n            <span>\n              {moment(\n                moment(r.review_created_at).format(\"YYYYMMDD\"),\n                \"YYYYMMDD\"\n              ).fromNow()}\n            </span>\n          </span>\n        </div>\n      ))}\n    </>\n  );\n}\n\nexport default Rating;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}