{"ast":null,"code":"var _jsxFileName = \"/home/dell/JAGOTA/march-27/Backup-Mar23 safety march27/backup04-04 filter new design try/src/pages/Finance/Dashboard/Invoicelist/Invoicelist.js\",\n  _s = $RefreshSig$();\nimport moment from \"moment\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./Invoicelist.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Invoicelist(_ref) {\n  _s();\n  var _invdata$slice;\n  let {\n    data,\n    invtab,\n    fromdate,\n    todate,\n    settodate,\n    setfromdate\n  } = _ref;\n  const [invdata, setInvData] = useState([]);\n  const [datevalue, setdatevalue] = useState([]);\n  useEffect(() => {\n    let max = Math.max(...datevalue);\n    let min = Math.min(...datevalue);\n    settodate(new Date(max));\n    setfromdate(new Date(min));\n  }, [datevalue]);\n  useEffect(() => {\n    data.filter(d => {\n      setdatevalue(prevState => [...prevState, new Date(d === null || d === void 0 ? void 0 : d.INV_DATE).getTime()]);\n    });\n  }, [data]);\n  useEffect(() => {\n    var from = new Date(fromdate).getTime();\n    var to = new Date(todate).getTime();\n    setInvData([]);\n    if (invtab === \"ALL\") {\n      data === null || data === void 0 ? void 0 : data.filter(d => {\n        if (new Date(d === null || d === void 0 ? void 0 : d.INV_DATE).getTime() >= from && new Date(d === null || d === void 0 ? void 0 : d.INV_DATE).getTime() <= to) {\n          setInvData(prevState => [...prevState, d]);\n        }\n      });\n    }\n    if (invtab === \"Invoices\") {\n      data === null || data === void 0 ? void 0 : data.filter(d => {\n        if (new Date(d === null || d === void 0 ? void 0 : d.INV_DATE).getTime() >= from && new Date(d === null || d === void 0 ? void 0 : d.INV_DATE).getTime() <= to && (d === null || d === void 0 ? void 0 : d.INV_BOOK.charAt(0)) == \"I\") {\n          setInvData(prevState => [...prevState, d]);\n        }\n      });\n    }\n    if (invtab === \"Credit Note\") {\n      data === null || data === void 0 ? void 0 : data.filter(d => {\n        if (new Date(d === null || d === void 0 ? void 0 : d.INV_DATE).getTime() >= from && new Date(d === null || d === void 0 ? void 0 : d.INV_DATE).getTime() <= to && (d === null || d === void 0 ? void 0 : d.INV_BOOK.charAt(0)) == \"C\") {\n          setInvData(prevState => [...prevState, d]);\n        }\n      });\n    }\n  }, [invtab, fromdate, todate, data]);\n  function formatToCurrency(price) {\n    return price === null || price === void 0 ? void 0 : price.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"invoicelist table-responsive\",\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      class: \"table table-borderless\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Invoices No. / CN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Bill to\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: invdata === null || invdata === void 0 ? void 0 : (_invdata$slice = invdata.slice(0, 5)) === null || _invdata$slice === void 0 ? void 0 : _invdata$slice.map(inv => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: [inv === null || inv === void 0 ? void 0 : inv.INV_BOOK, inv === null || inv === void 0 ? void 0 : inv.INV_NO]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: inv === null || inv === void 0 ? void 0 : inv.BILL_TO\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: moment(inv === null || inv === void 0 ? void 0 : inv.INV_DATE).format(\"YYYY-MM-DD\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: [\"\\u0E3F \", formatToCurrency(inv === null || inv === void 0 ? void 0 : inv.TOTAL)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: `${(inv === null || inv === void 0 ? void 0 : inv.STATUS) === \"Paid\" && \"paidstatus\"} ${(inv === null || inv === void 0 ? void 0 : inv.STATUS) === \"Unpaid\" && \"unpaidstatus\"} ${(inv === null || inv === void 0 ? void 0 : inv.STATUS) === \"Cancelled\" && \"canstatus\"}`,\n            children: inv === null || inv === void 0 ? void 0 : inv.STATUS\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(Invoicelist, \"+BIQOiFckFDNPYyXNVU+y3pNRF0=\");\n_c = Invoicelist;\nexport default Invoicelist;\nvar _c;\n$RefreshReg$(_c, \"Invoicelist\");","map":{"version":3,"names":["moment","React","useState","useEffect","jsxDEV","_jsxDEV","Invoicelist","_ref","_s","_invdata$slice","data","invtab","fromdate","todate","settodate","setfromdate","invdata","setInvData","datevalue","setdatevalue","max","Math","min","Date","filter","d","prevState","INV_DATE","getTime","from","to","INV_BOOK","charAt","formatToCurrency","price","toString","replace","className","children","class","scope","fileName","_jsxFileName","lineNumber","columnNumber","slice","map","inv","INV_NO","BILL_TO","format","TOTAL","STATUS","_c","$RefreshReg$"],"sources":["/home/dell/JAGOTA/march-27/Backup-Mar23 safety march27/backup04-04 filter new design try/src/pages/Finance/Dashboard/Invoicelist/Invoicelist.js"],"sourcesContent":["import moment from \"moment\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./Invoicelist.scss\";\n\nfunction Invoicelist({ data, invtab, fromdate, todate, settodate, setfromdate }) {\n  const [invdata, setInvData] = useState([]);\n  const [datevalue, setdatevalue]= useState([]);\n\n  useEffect(() => {\n    let max = Math.max(...datevalue);\n    let min = Math.min(...datevalue);\n    settodate(new Date(max));\n    setfromdate(new Date(min));\n  }, [datevalue])\n\n  useEffect(() => {\n    data.filter(d => {\n      setdatevalue(prevState => [\n        ...prevState, new Date(d?.INV_DATE).getTime()\n      ])\n    })\n  }, [data])\n\n  useEffect(() => {\n    var from = new Date(fromdate).getTime();\n    var to = new Date(todate).getTime();\n    setInvData([]);\n    \n    if (invtab === \"ALL\") {\n      data?.filter((d) => {\n        if (\n          new Date(d?.INV_DATE).getTime() >= from &&\n          new Date(d?.INV_DATE).getTime() <= to\n        ) {\n          setInvData((prevState) => [...prevState, d]);\n        }\n      });\n    }\n    if (invtab === \"Invoices\") {\n      data?.filter((d) => {\n        if (\n          new Date(d?.INV_DATE).getTime() >= from &&\n          new Date(d?.INV_DATE).getTime() <= to &&\n          d?.INV_BOOK.charAt(0) == \"I\"\n        ) {\n          setInvData((prevState) => [...prevState, d]);\n        }\n      });\n    }\n    if (invtab === \"Credit Note\") {\n      data?.filter((d) => {\n        if (\n          new Date(d?.INV_DATE).getTime() >= from &&\n          new Date(d?.INV_DATE).getTime() <= to &&\n          d?.INV_BOOK.charAt(0) == \"C\"\n        ) {\n          setInvData((prevState) => [...prevState, d]);\n        }\n      });\n    }\n  }, [invtab, fromdate, todate, data]);\n\n  function formatToCurrency(price) {\n    return price?.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  }\n\n  return (\n    <div className=\"invoicelist table-responsive\">\n      <table class=\"table table-borderless\">\n        <thead>\n          <tr>\n            <th scope=\"col\">Invoices No. / CN</th>\n            <th scope=\"col\">Bill to</th>\n            <th scope=\"col\">Date</th>\n            <th scope=\"col\">Total</th>\n            <th scope=\"col\">Status</th>\n          </tr>\n        </thead>\n        <tbody>\n          {invdata?.slice(0, 5)?.map((inv) => (\n            <tr>\n              <th>{inv?.INV_BOOK}{inv?.INV_NO}</th>\n              <th>{inv?.BILL_TO}</th>\n              <th>{moment(inv?.INV_DATE).format(\"YYYY-MM-DD\")}</th>\n              <th>฿ {formatToCurrency(inv?.TOTAL)}</th>\n              <th\n                className={`${inv?.STATUS === \"Paid\" && \"paidstatus\"} ${\n                  inv?.STATUS === \"Unpaid\" && \"unpaidstatus\"\n                } ${inv?.STATUS === \"Cancelled\" && \"canstatus\"}`}\n              >\n                {inv?.STATUS}\n              </th>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default Invoicelist;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}